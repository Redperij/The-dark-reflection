# Adding tags to culture groups - edit the following in common/scripted_triggers/EAW_race_triggers.txt:
#    - is_country_main_culture_CULTURE
#    - is_state_main_culture_CULTURE
#    - is_operative_main_culture_CULTURE
# Adding a new culture group - ask Yard. In case I die/become unresponsive, you'll need to:
# 1. In common/scripted_triggers/EAW_race_triggers.txt:
#    a) Add new main_culture triggers as above
#    b) Add a is_country_secondary_culture_CULTURE trigger
# 3. In common/scripted_effects/EAW_race_effects.txt:
#    a) operative_add_nationalities_CULTURE (look at existing ones for guidiance, add a new cultures index)
#    b) add an entry in operative_add_main_nationalities_from_PREV
#    c) add an entry in operative_add_secondary_nationalities_from_PREV
#    d) add an entry in operative_add_starting_nationalities_and_race
#    e) depending on tag, add an entry in operative_add_secondary_nationalities and operative_handle_secondary_cultures_races

#Race triggers
is_pony_race = {
	has_tech = pony_race
}
is_changeling_race = {
	has_tech = changeling_race
}
is_deer_race = {
	has_tech = deer_race
}
is_griffon_race = {
	has_tech = griffon_race
}
is_diamond_dog_race = {
	has_tech = diamond_dog_race
}
is_minotaur_race = {
	has_tech = minotaur_race
}
is_penguin_race = {
	has_tech = penguin_race
}
is_dragon_race = {
	has_tech = dragon_race
}
is_undead_race = {
	has_tech = undead_race
}
is_buffalo_race = {
	has_tech = buffalo_race
}
is_yak_race = {
	has_tech = yak_race
}
is_polar_race = {
	has_tech = polar_race
}
is_thestral_race = {
	has_tech = thestral_race
}

is_generic_race = {
	NOT = {
		is_pony_race = yes
		is_changeling_race = yes
		is_deer_race = yes
		is_griffon_race = yes
		is_diamond_dog_race = yes
	}
}

has_generic_race_tech = {
	is_generic_race = yes	
}

has_pony_race_tech = {
	is_pony_race = yes
}

has_changeling_race_tech = {
	is_changeling_race = yes
}

has_deer_race_tech = {
	is_deer_race = yes
}

has_griffon_race_tech = {
	is_griffon_race = yes
}

has_diamond_dog_race_tech = {
	is_diamond_dog_race = yes
}

has_special_race_tech = {
	always = no
}

has_barrad_race_tech = {
	always = no
}

is_same_race_as_PREV = {
	OR = {
		AND = {
			is_pony_race = yes
			PREV = { is_pony_race = yes }
		}
		AND = {
			is_changeling_race = yes
			PREV = { is_changeling_race = yes }
		}
		AND = {
			is_deer_race = yes
			PREV = { is_deer_race = yes }
		}
		AND = {
			is_griffon_race = yes
			PREV = { is_griffon_race = yes }
		}
		AND = {
			is_diamond_dog_race = yes
			PREV = { is_diamond_dog_race = yes }
		}
		AND = {
			is_thestral_race = yes
			PREV = { is_thestral_race = yes }
		}
		AND = {
			is_generic_race = yes
			PREV = { is_generic_race = yes }
		}
	}
}

uses_pony_EQS_portraits = {
	OR = {
		original_tag = EQS
		original_tag = WHN
	}
}

uses_pony_CRY_portraits = {
	OR = {
		original_tag = CRY
		original_tag = KDW
		original_tag = AED
		original_tag = LAR
	}
}

uses_pony_SEV_portraits = {
	OR = {
		original_tag = SEV
		original_tag = STL
	}
}

uses_thestral_portraits = {
	OR = {
		original_tag = VIE
		original_tag = LAO
		original_tag = CAM
	}
}

uses_griffon_generic_portraits = {
	OR = {
		original_tag = GRF
		original_tag = GFF
		original_tag = CNC
		original_tag = ALH
		original_tag = BFJ
		original_tag = WET
		original_tag = LDC
		original_tag = PLV
		original_tag = MRF
		original_tag = NWN
		original_tag = GLF
	}
}

uses_changeling_portraits = {
	OR = {
		original_tag = THO
		original_tag = ANT
		original_tag = HOO
		original_tag = BRK
		original_tag = MAG
		original_tag = GES
		original_tag = DOA
		original_tag = DRI
		original_tag = EBB
		original_tag = DOL
		original_tag = WES
	}
}

uses_yak_portraits = {
	original_tag = YAK
}

uses_diamond_dog_portraits = {
	OR = {
		original_tag = DMD
		original_tag = MOR
		original_tag = TTT
	}
}

uses_deer_portraits = {
	OR = {
		original_tag = OLE
		original_tag = DER
		original_tag = ETO
		original_tag = VIC
		original_tag = GEM
		original_tag = ROW
		original_tag = YML
		original_tag = TOU
		original_tag = LID
		original_tag = ATT
		original_tag = NAZ
		original_tag = CIN
	}
}

uses_undead_portraits = {
	OR = {
		original_tag = WST
		original_tag = TST
		original_tag = WLD
	}
}

uses_minotaur_portraits = {
	always = no
}

uses_penguin_portraits = {
	OR = {
		original_tag = PNR
		original_tag = PNG
		original_tag = AMN
	}
}

uses_bear_portraits = {
	original_tag = PLB
}

uses_buffalo_portraits = {
	always = no
}

uses_dragon_portraits = {
	OR = {
		original_tag = DRG
		original_tag = DRC
	}
}

uses_pony_generic_portraits = {
	NOT = {
		uses_pony_EQS_portraits = yes
		uses_pony_CRY_portraits = yes
		uses_pony_SEV_portraits = yes
		uses_thestral_portraits = yes
		uses_griffon_generic_portraits = yes
		uses_changeling_portraits = yes
		uses_yak_portraits = yes
		uses_diamond_dog_portraits = yes
		uses_deer_portraits = yes
		uses_undead_portraits = yes
		uses_minotaur_portraits = yes
		uses_penguin_portraits = yes
		uses_bear_portraits = yes
		uses_buffalo_portraits = yes
		uses_dragon_portraits = yes
	}
}

has_unit_leader_race_trait = {
	OR = {
		has_trait = unspecified_race_trait
		has_trait = pony_race_trait
		has_trait = thestral_race_trait
		has_trait = zebra_race_trait
		has_trait = penguin_race_trait
		has_trait = bear_race_trait
		has_trait = changeling_race_trait
		has_trait = griffon_race_trait
		has_trait = yak_race_trait
		has_trait = deer_race_trait
		has_trait = diamond_dog_race_trait
		has_trait = minotaur_race_trait
		has_trait = undead_race_trait
		has_trait = buffalo_race_trait
		has_trait = dragon_race_trait
	}
}

is_country_main_culture_changeling = {
	OR = {
		original_tag = THO
		original_tag = ANT
		original_tag = HOO
		original_tag = BRK
		original_tag = MAG
		original_tag = GES
		original_tag = DOA
		original_tag = DRI
		original_tag = EBB
		original_tag = DOL
		original_tag = WES
	}
}

is_country_main_culture_olenian = {
	OR = {
		original_tag = OLE
		original_tag = DER
		original_tag = ETO
		original_tag = VIC
		original_tag = GEM
		original_tag = ROW
		original_tag = YML
		original_tag = TOU
		original_tag = LID
		original_tag = ATT
		original_tag = NAZ
		original_tag = CIN
	}
}

is_country_main_culture_diamond_dog = {
	OR = {
		original_tag = DMD
		original_tag = MOR
		original_tag = TTT
	}
}

is_country_main_culture_dragon = {
	OR = {
		original_tag = DRG
		original_tag = DRC
	}
}

is_country_main_culture_bear = {
	original_tag = PLB
}

is_country_main_culture_buffalo = {
	always = no
}

is_country_main_culture_griffonian = {
	OR = {
		original_tag = GRF
		original_tag = CNC
		original_tag = ALH
		original_tag = BFJ
		original_tag = WET
		original_tag = LDC
		original_tag = PLV
		original_tag = MRF
		original_tag = NWN
		original_tag = GLF
	}
}

is_country_main_culture_native_griffonian = {
	original_tag = GFF
}

is_country_main_culture_equestrian = {
	OR = {
		original_tag = WES
		original_tag = EQS
		original_tag = WHN
	}
}

is_country_main_culture_northerner = {
	always = no
}

is_country_main_culture_southerner = {
	always = no
}

is_country_main_culture_penguin = {
	OR = {
		original_tag = PNR
		original_tag = PNG
		original_tag = AMN
	}
}

is_country_main_culture_undead = {
	always = no
}

is_country_main_culture_yak = {
	original_tag = YAK
}

is_state_main_culture_changeling = {
	is_in_array = { global.changeling_states }
}

is_state_main_culture_olenian = {
	is_in_array = { global.deer_states }
}

is_state_main_culture_diamond_dog = {
	is_in_array = { global.dog_states }
}

is_state_main_culture_dragon = {
	is_in_array = { global.dragon_states }
}

is_state_main_culture_bear = {
	is_in_array = { global.bear_states }
}

is_state_main_culture_griffonian = {
	AND = {
		NOT = {
			is_in_array = { state_original_cores = GFF }
		}
		is_in_array = { global.griffon_state }
	}
}

is_state_main_culture_native_griffonian = {
	is_in_array = { state_original_cores = GFF }
}

is_state_main_culture_equestrian = {
	OR = {
		is_in_array = { state_original_cores = EQS }
		is_in_array = { state_original_cores = WES }
		is_in_array = { state_original_cores = WHN }
	}
}

is_state_main_culture_northerner = {
	always = no
}

is_state_main_culture_penguin = {
	is_in_array = { global.penguin_states }
}

is_state_main_culture_southerner = {
	always = no
}

is_state_main_culture_undead = {
	always = no
}

is_state_main_culture_yak = {
	is_in_array = { global.yak_states }
}

is_operative_main_culture_changeling = {
	OR = {
		has_nationality = WES
		has_nationality = EBB
		has_nationality = GES
		has_nationality = DRI
		has_nationality = DOA
		has_nationality = MAG
		has_nationality = BRK
		has_nationality = THO
		has_nationality = ANT
		has_nationality = HOO
	}
}

is_operative_main_culture_olenian = {
	OR = {
		has_nationality = OLE
		has_nationality = ETO
		has_nationality = VIC
		has_nationality = GEM
		has_nationality = ROW
		has_nationality = YML
		has_nationality = TOU
		has_nationality = LID
		has_nationality = ATT
		has_nationality = CIN
		has_nationality = NAZ
	}
}

is_operative_main_culture_diamond_dog = {
	OR = {
		has_nationality = TTT
		has_nationality = MOR
		has_nationality = DMD
	}
}

is_operative_main_culture_dragon = {
	OR = {
		has_nationality = DRG
		has_nationality = DRC
	}
}

is_operative_main_culture_bear = {
	has_nationality = PLB
}

is_operative_main_culture_griffonian = {
	OR = {
		has_nationality = WET
		has_nationality = CNC
		has_nationality = ALH
		has_nationality = BFJ
		has_nationality = LDC
		has_nationality = PLV
		has_nationality = MRF
		has_nationality = GLF
		has_nationality = GRF
	}
}

is_operative_main_culture_native_griffonian = {
	has_nationality = GFF
}

is_operative_main_culture_equestrian = {
	OR = {
		has_nationality = EQS
		has_nationality = CRY
		has_nationality = BAL
	}
}

is_operative_main_culture_northerner = {
	always = no
}

is_operative_main_culture_penguin = {
	OR = {
		has_nationality = PNR
		has_nationality = PNG
		has_nationality = AMN
	}
}

is_operative_main_culture_southerner = {
	always = no
}

is_operative_main_culture_undead = {
	always = no
}

is_operative_main_culture_yak = {
	has_nationality = YAK
}

is_country_secondary_culture_changeling = {
	always = no
	OR = {
	}
}
is_country_secondary_culture_olenian = {
	always = no
	OR = {
	}
}
is_country_secondary_culture_diamond_dog = {
	always = no
	OR = {
	}
}
is_country_secondary_culture_dragon = {
	always = no
	OR = {
	}
}
is_country_secondary_culture_bear = {
	always = no
	OR = {
	}
}
is_country_secondary_culture_griffonian = {
	OR = {
		original_tag = MOR
	}
}
is_country_secondary_culture_native_griffonian = {
	OR = {
		original_tag = GRF
	}
}
is_country_secondary_culture_equestrian = {
	OR = {
		original_tag = WES
	}
}
is_country_secondary_culture_northerner = {
	always = no
	OR = {
	}
}
is_country_secondary_culture_penguin = {
	always = no
	OR = {
	}
}
is_country_secondary_culture_southerner = {
	always = no
	OR = {
	}
}
is_country_secondary_culture_undead = {
	always = no
	OR = {
	}
}
is_country_secondary_culture_yak = {
	always = no
	OR = {
	}
}